---
- name: Ensure ansible collections (2.10.7) are installed for lint (Bullseye)
  shell: pip install --user ansible==2.10.7
  when:
    - ansible_distribution == "Debian"
    - ansible_distribution_release == "bullseye"

- name: Ensure ansible-lint (6.22.2) is installed (Bullseye)
  shell: pip install --user ansible-lint==6.22.2
  when:
    - ansible_distribution == "Debian"
    - ansible_distribution_release == "bullseye"

- name: Ensure ansible collections (7.7.0) are installed for lint (Bookworm)
  shell: pipx install ansible==7.7.0
  when:
    - ansible_distribution == "Debian"
    - ansible_distribution_release == "bookworm"

- name: Ensure ansible-lint (6.22.2) is installed (Bookworm)
  shell: pipx install ansible-lint==6.22.2
  when:
    - ansible_distribution == "Debian"
    - ansible_distribution_release == "bookworm"
